{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dimon\\\\Desktop\\\\react\\\\portfolio\\\\src\\\\Skills\\\\Posts.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport \"../styles/Posts.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Posts = _ref => {\n  _s();\n  let {\n    page,\n    totalCount,\n    posts,\n    number\n  } = _ref;\n  const lastElement = useRef();\n  const observer = useRef();\n  useEffect(() => {\n    var callback = (entries, observer) => {\n      if (posts.length === 0) return;\n      if (observer.current) observer.current.disconect();\n      if (entries[0].isIntersecting && page < totalCount) {\n        setPage(page + 1);\n      }\n    };\n    observer.current = new IntersectionObserver(callback);\n    observer.current.observe(lastElement.current);\n  }, [lastElement]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"posts\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [\"Post id: \", posts.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: [number, \". \", posts.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: posts.body\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 10\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n};\n_s(Posts, \"Iy3zcl4lDWdvJpJFdlfTn9fZZgQ=\");\n_c = Posts;\nexport default Posts;\nvar _c;\n$RefreshReg$(_c, \"Posts\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","jsxDEV","_jsxDEV","Posts","_ref","_s","page","totalCount","posts","number","lastElement","observer","callback","entries","length","current","disconect","isIntersecting","setPage","IntersectionObserver","observe","className","children","id","fileName","_jsxFileName","lineNumber","columnNumber","name","body","_c","$RefreshReg$"],"sources":["C:/Users/Dimon/Desktop/react/portfolio/src/Skills/Posts.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react'\r\nimport \"../styles/Posts.css\"\r\n\r\nconst Posts = ({page, totalCount, posts, number}) => {\r\n\r\n  const lastElement = useRef()\r\n  const observer = useRef()\r\n\r\n  useEffect( () => {\r\n    \r\n    var callback = (entries, observer) => {\r\n      if (posts.length === 0) return\r\n      if (observer.current) observer.current.disconect();\r\n      if (entries[0].isIntersecting && page < totalCount){\r\n        setPage(page +1)\r\n      }\r\n    }\r\n    \r\n    observer.current = new IntersectionObserver(callback);\r\n    observer.current.observe(lastElement.current)\r\n  }, [lastElement] )\r\n\r\n\r\n  return (\r\n    <div className='posts'>\r\n         <div className='post'>\r\n              <div><strong>Post id: {posts.id}</strong></div>\r\n              <strong>{number}. {posts.name}</strong>\r\n              <div>{posts.body}</div>\r\n          </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Posts\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,OAAO,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACnE,OAAO,qBAAqB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE5B,MAAMC,KAAK,GAAGC,IAAA,IAAuC;EAAAC,EAAA;EAAA,IAAtC;IAACC,IAAI;IAAEC,UAAU;IAAEC,KAAK;IAAEC;EAAM,CAAC,GAAAL,IAAA;EAE9C,MAAMM,WAAW,GAAGX,MAAM,EAAE;EAC5B,MAAMY,QAAQ,GAAGZ,MAAM,EAAE;EAEzBF,SAAS,CAAE,MAAM;IAEf,IAAIe,QAAQ,GAAGA,CAACC,OAAO,EAAEF,QAAQ,KAAK;MACpC,IAAIH,KAAK,CAACM,MAAM,KAAK,CAAC,EAAE;MACxB,IAAIH,QAAQ,CAACI,OAAO,EAAEJ,QAAQ,CAACI,OAAO,CAACC,SAAS,EAAE;MAClD,IAAIH,OAAO,CAAC,CAAC,CAAC,CAACI,cAAc,IAAIX,IAAI,GAAGC,UAAU,EAAC;QACjDW,OAAO,CAACZ,IAAI,GAAE,CAAC,CAAC;MAClB;IACF,CAAC;IAEDK,QAAQ,CAACI,OAAO,GAAG,IAAII,oBAAoB,CAACP,QAAQ,CAAC;IACrDD,QAAQ,CAACI,OAAO,CAACK,OAAO,CAACV,WAAW,CAACK,OAAO,CAAC;EAC/C,CAAC,EAAE,CAACL,WAAW,CAAC,CAAE;EAGlB,oBACER,OAAA;IAAKmB,SAAS,EAAC,OAAO;IAAAC,QAAA,eACjBpB,OAAA;MAAKmB,SAAS,EAAC,MAAM;MAAAC,QAAA,gBAChBpB,OAAA;QAAAoB,QAAA,eAAKpB,OAAA;UAAAoB,QAAA,GAAQ,WAAS,EAACd,KAAK,CAACe,EAAE;QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAU;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAM,eAC/CzB,OAAA;QAAAoB,QAAA,GAASb,MAAM,EAAC,IAAE,EAACD,KAAK,CAACoB,IAAI;MAAA;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAU,eACvCzB,OAAA;QAAAoB,QAAA,EAAMd,KAAK,CAACqB;MAAI;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAO;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EACrB;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACN;AAEV,CAAC;AAAAtB,EAAA,CA7BKF,KAAK;AAAA2B,EAAA,GAAL3B,KAAK;AA+BX,eAAeA,KAAK;AAAA,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}